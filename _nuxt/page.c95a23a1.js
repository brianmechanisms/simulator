import{C as u,aL as y,l,aM as d,aN as f,aO as g,aP as m,I as v,aQ as A,ai as _,aR as k,a5 as K,y as C,aS as T}from"./entry.0b5c1ddf.js";function s(e){return e!==null&&typeof e=="object"}function c(e,a,n=".",t){if(!s(a))return c(e,{},n,t);const o=Object.assign({},a);for(const r in e){if(r==="__proto__"||r==="constructor")continue;const i=e[r];i!=null&&(t&&t(o,r,i,n)||(Array.isArray(i)&&Array.isArray(o[r])?o[r]=[...i,...o[r]]:s(i)&&s(o[r])?o[r]=c(i,o[r],(n?`${n}.`:"")+r.toString(),t):o[r]=i))}return o}function h(e){return(...a)=>a.reduce((n,t)=>c(n,t,"",e),{})}const w=h(),x=(e,a)=>a.path.replace(/(:\w+)\([^)]+\)/g,"$1").replace(/(:\w+)[?+*]/g,"$1").replace(/:\w+/g,n=>{var t;return((t=e.params[n.slice(1)])==null?void 0:t.toString())||""}),R=(e,a)=>{const n=e.route.matched.find(o=>{var r;return((r=o.components)==null?void 0:r.default)===e.Component.type}),t=a??(n==null?void 0:n.meta.key)??(n&&x(e.route,n));return typeof t=="function"?t(e.route):t},S=(e,a)=>({default:()=>e?u(y,e===!0?{}:e,a):a}),O=l({name:"NuxtPage",inheritAttrs:!1,props:{name:{type:String},transition:{type:[Boolean,Object],default:void 0},keepalive:{type:[Boolean,Object],default:void 0},route:{type:Object},pageKey:{type:[Function,String],default:null}},setup(e,{attrs:a}){const n=d();return()=>u(k,{name:e.name,route:e.route,...a},{default:t=>{if(!t.Component)return;const o=R(t,e.pageKey),r=n.deferHydration(),i=!!(e.transition??t.route.meta.pageTransition??f),p=i&&b([e.transition,t.route.meta.pageTransition,f,{onAfterLeave:()=>{n.callHook("page:transition:finish",t.Component)}}].filter(Boolean));return g(_,i&&p,S(e.keepalive??t.route.meta.keepalive??A,u(m,{suspensible:!0,onPending:()=>n.callHook("page:start",t.Component),onResolve:()=>{v(()=>n.callHook("page:finish",t.Component).finally(r))}},{default:()=>u(H,{key:o,routeProps:t,pageKey:o,hasTransition:i})}))).default()}})}});function j(e){return Array.isArray(e)?e:e?[e]:[]}function b(e){const a=e.map(n=>({...n,onAfterLeave:j(n.onAfterLeave)}));return w(...a)}const H=l({name:"RouteProvider",props:["routeProps","pageKey","hasTransition"],setup(e){const a=e.pageKey,n=e.routeProps.route,t={};for(const o in e.routeProps.route)t[o]=K(()=>a===e.pageKey?e.routeProps.route[o]:n[o]);return C("_route",T(t)),()=>u(e.routeProps.Component)}});export{O as _};
